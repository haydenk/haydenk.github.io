# Project Instructions

## Bible Notes Formatting Spec

### Source Format
- Exported from Bible Note app (https://biblenote.ai/)
- Comes as `.txt` files, typically two per sermon:
  - **Summary** file: full structured notes with headings, bullets, scripture refs
  - **Insight** file: numbered insight/reflection paragraphs
- Header lines to strip: `Notes Powered by Bible Note https://biblenote.ai/` and `========` separator lines with section labels like "Summary" / "Insight"

### Target Format: Hugo Markdown

#### File Creation
- Use `mise new-post` to generate the post file for consistent naming
- When running non-interactively, pipe inputs: date, title, content directory
- The task creates files at `content/{content_directory}/{timestamp}-{slug}.md`

#### Frontmatter
- TOML format (`+++`)
- Keep the frontmatter generated by `mise new-post` as-is (title, slug, date, draft)
- Populate the `tags` array with relevant topics from the sermon content
```
+++
title = 'Post Title Here'
slug = 'post-title-here'
date = 2026-02-15 00:00:00
draft = false
tags = ['grace', 'repentance']
+++
```

#### Content Structure (in order)
1. `## Scripture References` — each reference as a separate `*` bullet (source has them semicolon-separated on one line)
2. `## Introduction`
3. `## Key Points / Exposition` — with `###` numbered sub-headings
4. `## Major Lessons & Revelations`
5. `## Practical Application`
6. `## Conclusion & Call to Response`
7. `## Prayer`
8. `## References & Resources`
9. `## Insights` — numbered list merged from the separate Insight file

#### Formatting Rules
- All unordered bullets use `*` (not `-`)
- Sub-bullets indented 2 spaces: `  *`
- No trailing whitespace on lines
- No extra blank lines (single blank line between sections)
- Numbered lists (Insights) use `1.`, `2.`, etc.
- Special characters normalized:
  - Em-dashes (`—`) to `--`
  - Arrows (`→`) to `to`
  - Curly quotes to straight quotes
  - En-dashes in ranges (`–`) to `-`
  - Remove `%` space (`100 %` to `100%`)
  - Ellipsis (`…`) to `...`

#### File Output
- Combined into a single `.md` file (summary + insights merged)
- Created via `mise new-post` directly into `content/bible-notes/` with `{timestamp}-{slug}.md` naming
- Summary and Insight `.txt` source files can be staged in `sermon-notes/` directory

#### Reference Example
See `sermon-notes/stewards-not-owners-faithful-with-gods-resources.md` for the canonical formatted output.
